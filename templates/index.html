<!DOCTYPE html>
<html>
<head>
    <title>Search Books</title>
	<link rel="stylesheet" type="text/css" href="{{ url_for('serve_static', path='style.css') }}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>

<header>
	<nav>
        <h1>Search Books</h1>
</header>

<body>
    <div class="container">
        <div class="book-info">
            <form action="/search" method="post" class="search-bar">
				<input type="text" id="book_name" name="book_name" placeholder="Enter the book name">
				<button type="submit" class="submit-btn"><i class="fas fa-search"></i></button>
			</form>
			
			{% if book_info != "" %}
			<div class="content">
				<div id="conteudo-left">
					<div class="image">
						<img src="{{ image_url }}" alt="Book Thumbnail">
					</div>
				</div>
				
				<div id="conteudo-right">
					<div id="book_info">
						<h2>{{ title }}</h2>
						<pre>{{ book_info }}</pre>
					</div>
				</div>
			</div>
			{% endif %}
			
			{% if recommended_books != "" %}
			<div class="recommended-books">
				<h2>Recommended Books</h2>
				<div class="books-list">
					{% for book in recommended_books %}
					<div class="book">
						<div class="image">
							<img src="{{ book[1] }}" alt="Book Thumbnail">
						</div>
						<div class="info">
							<p>{{ book[0] }} by {{ book[2] }}</p>
						</div>
					</div>
					{% endfor %}
				</div>
			</div>
			{% endif %}
        </div>
    </div>
	
	<script>
        window.addEventListener('DOMContentLoaded', function() {
            var conteudoRight = document.getElementById('conteudo-right');
			var conteudoLeft = document.getElementById('conteudo-left');
            var bookInfo = document.getElementById('book_info');

            if (bookInfo.offsetHeight > 400) {
                conteudoRight.style.height = bookInfo.offsetHeight + 'px';
				conteudoLeft.style.height = bookInfo.offsetHeight + 'px';
            }
        });
    </script>
</body>
</html>